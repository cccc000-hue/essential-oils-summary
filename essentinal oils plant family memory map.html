<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æ¤ç‰©ç§‘å±¬åŠŸèƒ½ç²¾æ²¹è¨˜æ†¶å¡</title>
    <style>
        :root {
            --primary: #6b4c9a;
            --bg: #f5f5f7;
            --card-bg: #ffffff;
            --text-main: #333333;
            --text-sub: #666666;
            --tag-bg: #f3f0f7;
            --border-color: #e0e0e0;
        }
        
        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: var(--bg);
            color: var(--text-main);
            height: 100vh; /* æ»¿å±é«˜åº¦ */
            display: flex;
            flex-direction: column;
            overflow: hidden; /* é˜²æ­¢æ•´å€‹é é¢æ»¾å‹• */
        }

        /* é ‚éƒ¨å°èˆª */
        header { 
            padding: 12px 16px; 
            background: var(--card-bg); 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            border-bottom: 1px solid #eee;
            flex-shrink: 0;
            z-index: 20;
        }
        h1 { font-size: 1rem; font-weight: 700; color: var(--primary); margin: 0; }
        .counter { 
            background: var(--tag-bg); 
            color: var(--primary); 
            padding: 4px 10px; 
            border-radius: 12px; 
            font-size: 0.85rem; 
            font-weight: 600; 
        }

        /* æœå°‹å€ */
        .search-container { 
            padding: 10px 16px; 
            background: var(--bg); 
            flex-shrink: 0;
        }
        .search-input-wrapper { position: relative; }
        .search-input { 
            width: 100%; 
            padding: 10px 35px 10px 12px; 
            border-radius: 10px; 
            border: 1px solid #ddd; 
            font-size: 0.95rem; 
            outline: none; 
            background: white;
        }
        .search-input:focus { border-color: var(--primary); }
        .clear-btn { 
            position: absolute; 
            right: 0; top: 0; bottom: 0;
            width: 35px; 
            background: none; 
            border: none; 
            font-size: 1.1rem; 
            color: #999; 
            display: none;
            cursor: pointer;
        }

        /* ä¸»è¦å…§å®¹å€ (å¡ç‰‡) */
        .main-area { 
            flex: 1; 
            margin: 0 16px 16px; 
            position: relative; 
            min-height: 0; /* é‡è¦ï¼šè®“ flex item å¯ä»¥ç¸®å° */
            display: flex;
            flex-direction: column;
        }
        
        .card { 
            background: var(--card-bg);
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.06);
            display: flex;
            flex-direction: column;
            height: 100%;
            overflow: hidden;
            border: 1px solid rgba(0,0,0,0.05);
        }

        /* å¡ç‰‡é ­éƒ¨ (å›ºå®š) */
        .card-header {
            padding: 20px;
            background: linear-gradient(to bottom, #fff, #fcfcfc);
            border-bottom: 1px solid #f0f0f0;
            text-align: center;
            flex-shrink: 0;
        }
        .card-cn { font-size: 1.8rem; font-weight: 800; color: var(--primary); margin-bottom: 4px; }
        .card-en { font-size: 1rem; color: #888; font-style: italic; font-family: serif; }

        /* å¡ç‰‡å…§å®¹ (å¯æ»¾å‹•) */
        .card-body {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            -webkit-overflow-scrolling: touch; /* iOS å¹³æ»‘æ»¾å‹• */
        }

        .section { margin-bottom: 25px; }
        .section-title { 
            font-size: 0.9rem; 
            font-weight: 700; 
            color: #999; 
            text-transform: uppercase; 
            letter-spacing: 1px; 
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }
        .section-title::before {
            content: '';
            display: inline-block;
            width: 4px;
            height: 14px;
            background: var(--primary);
            margin-right: 8px;
            border-radius: 2px;
        }

        /* åˆ—è¡¨æ¨£å¼ */
        ul { padding-left: 5px; list-style: none; }
        li { margin-bottom: 8px; font-size: 1rem; line-height: 1.6; color: #444; }
        
        /* ç²¾æ²¹æ¨™ç±¤ */
        .oil-item { margin-bottom: 8px; }
        .oil-name {
            font-weight: 600;
            color: #2c3e50;
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            padding: 2px 8px;
            border-radius: 6px;
            display: inline-block;
        }
        .latin-oil {
            font-style: italic;
            font-size: 0.9rem;
            color: #666;
            margin-left: 4px;
        }

        /* åº•éƒ¨æŒ‰éˆ•å€ */
        .controls { 
            padding: 0 16px 20px; 
            display: flex; 
            gap: 15px; 
            flex-shrink: 0;
        }
        .btn { 
            border: none; 
            padding: 15px; 
            border-radius: 12px; 
            font-size: 1rem; 
            font-weight: 600; 
            flex: 1; 
            cursor: pointer; 
            transition: all 0.2s; 
            background: white; 
            border: 1px solid #ddd; 
            color: var(--text-main);
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .btn:active { background: #f0f0f0; transform: scale(0.98); }
        .btn-primary { 
            background: var(--primary); 
            color: white; 
            border: none;
            box-shadow: 0 4px 10px rgba(107, 76, 154, 0.3);
        }

        /* ç„¡çµæœ */
        .no-results { 
            display: none; 
            flex-direction: column; 
            align-items: center; 
            justify-content: center; 
            height: 100%; 
            color: #999; 
        }

        @media (max-width: 600px) {
            .card-cn { font-size: 1.6rem; }
            .latin-oil { display: block; margin-left: 0; margin-top: 2px; font-size: 0.85rem; }
        }
    </style>
</head>
<body>

    <header>
        <h1>æ¤ç‰©ç§‘å±¬åŠŸèƒ½ç²¾æ²¹è¨˜æ†¶å¡</h1>
        <div class="counter" id="counter">Loading...</div>
    </header>

    <div class="search-container">
        <div class="search-input-wrapper">
            <input type="text" class="search-input" id="searchInput" placeholder="æœå°‹ç§‘å±¬ã€ç²¾æ²¹ã€åŠŸæ•ˆ...">
            <button class="clear-btn" id="clearBtn">âœ•</button>
        </div>
    </div>

    <div class="main-area">
        <div class="no-results" id="noResults">
            <div style="font-size: 3rem; margin-bottom: 10px;">ğŸ”</div>
            <p>æ‰¾ä¸åˆ°ç›¸é—œè³‡æ–™</p>
        </div>

        <div class="card" id="card">
            <!-- ä¸ŠåŠéƒ¨ï¼šæ¨™é¡Œ -->
            <div class="card-header">
                <div class="card-cn" id="cardCn"></div>
                <div class="card-en" id="cardEn"></div>
            </div>

            <!-- ä¸‹åŠéƒ¨ï¼šå…§å®¹ (å¯æ»‘å‹•) -->
            <div class="card-body">
                <div class="section">
                    <div class="section-title">ä»£è¡¨ç²¾æ²¹</div>
                    <div id="cardOils"></div>
                </div>
                <div class="section">
                    <div class="section-title">ä¸»è¦åŠŸèƒ½</div>
                    <div id="cardFuncs"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="controls">
        <button class="btn" id="prevBtn">â† ä¸Šä¸€å¼µ</button>
        <button class="btn btn-primary" id="nextBtn">ä¸‹ä¸€å¼µ â†’</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // è³‡æ–™åº« (èˆ‡ä¹‹å‰ç›¸åŒ)
            var familyData = [
                {
                    cn: "ç•ªè”æç§‘",
                    latin: "Annonaceae",
                    oils: `<ul><li><span class="oil-name">ä¾è˜­ä¾è˜­ Ylang Ylang</span> <span class="latin-oil">(Cananga odorata)</span></li></ul>`,
                    func: `<ul><li>å¹³ä¼ (Soothing)</li><li>å¹³è¡¡ (Balancing)</li><li>å¹³éœ (Calming)</li></ul>`
                },
                {
                    cn: "æ©„æ¬–ç§‘",
                    latin: "Burseraceae",
                    oils: `<ul>
                        <li><span class="oil-name">ä¹³é¦™ Frankincense</span> <span class="latin-oil">(Boswellia carteri)</span></li>
                        <li><span class="oil-name">å°åº¦ä¹³é¦™ Indian Frankincense</span> <span class="latin-oil">(Boswellia serrata)</span></li>
                        <li><span class="oil-name">æ¬–é¦™è„‚ Elemi</span> <span class="latin-oil">(Canarium luzonicum)</span></li>
                        <li><span class="oil-name">æ²’è—¥ Myrrh</span> <span class="latin-oil">(Commiphora myrrha)</span></li>
                        <li><span class="oil-name">ç§˜é­¯è–æœ¨ Palo Santo</span> <span class="latin-oil">(Bursera graveolens)</span></li>
                    </ul>`,
                    func: `<ul><li>åŒ–ç—°</li><li>ä¿ƒé€²å‚·å£ç™’åˆåŠæ½°ç˜</li><li>æ¸›å°‘ç–¤ç—•çµ„ç¹”</li><li>å…·æœ‰é…¸é¡ï¼Œè¦ªè†šæ€§å¼·</li><li>è­·è†šæŠ—çšº</li><li>ä¿ƒé€²è¡€æ¶²å¾ªç’°ï¼Œæ´»è¡€åŒ–ç˜€</li><li>å¼·æ•ˆæŠ—èŒæ¶ˆç‚</li></ul>`
                },
                {
                    cn: "åŠæ—¥èŠ±ç§‘",
                    latin: "Cistaceae",
                    oils: `<ul><li><span class="oil-name">å²©ç«ç‘° Cistus</span> <span class="latin-oil">(Cistus ladaniferus)</span></li></ul>`,
                    func: `<ul><li>ä¿ƒé€²å‚·å£ç™’åˆ</li><li>æ­¢è¡€</li><li>æå‡å…ç–«åŠ›</li><li>æŠ—ç—…æ¯’</li></ul>`
                },
                {
                    cn: "èŠç§‘",
                    latin: "Compositae / Asteraceae",
                    oils: `<ul>
                        <li><span class="oil-name">å¾·åœ‹æ´‹ç”˜èŠ Chamomile German</span> <span class="latin-oil">(Matricaria chamomilla)</span></li>
                        <li><span class="oil-name">ç¾…é¦¬æ´‹ç”˜èŠ Chamomile Roman</span> <span class="latin-oil">(Anthemis nobilis)</span></li>
                        <li><span class="oil-name">æ°¸ä¹…èŠ± Immortelle</span> <span class="latin-oil">(Helichrysum italicum)</span></li>
                        <li><span class="oil-name">è¬å£½èŠ Tagetes</span> <span class="latin-oil">(Tagetes minuta)</span></li>
                        <li><span class="oil-name">è“è‰ Yarrow</span> <span class="latin-oil">(Achillea millefolium)</span></li>
                        <li><span class="oil-name">é¾è‰¾ Tarragon</span> <span class="latin-oil">(Artemisia dracunculus)</span></li>
                        <li><span class="oil-name">è‰¾è‰ Mugwort</span> <span class="latin-oil">(Artemisia vulgaris)</span></li>
                        <li><span class="oil-name">æ‘©æ´›å“¥è—è‰¾èŠ Blue Tansy</span> <span class="latin-oil">(Tanacetum annuum)</span></li>
                        <li><span class="oil-name">åœŸæœ¨é¦™ Elecampane</span> <span class="latin-oil">(Inula graveolens)</span></li>
                        <li><span class="oil-name">ä¸€æé»ƒèŠ± Gold Rod</span> <span class="latin-oil">(Solidago canadensis)</span></li>
                    </ul>`,
                    func: `<ul><li>æ®ºèŒ</li><li>å¹³éœ</li><li>æŠ—éæ•æ€§</li><li>æŠ—çœŸèŒ</li><li>æŠ—æ„ŸæŸ“</li><li>æ¶ˆåŒ–ä¸è‰¯</li><li>ç™¼ç‚</li><li>å¤±çœ ã€å£“åŠ›</li><li>*æŸäº›å…·é…®é¡è¦å°å¿ƒç”¨é‡</li></ul>`
                },
                {
                    cn: "æŸç§‘",
                    latin: "Coniferae / Cupressaceae",
                    oils: `<ul>
                        <li><span class="oil-name">çµ²æŸ Cypress</span> <span class="latin-oil">(Cupressus sempervirens)</span></li>
                        <li><span class="oil-name">æœæ¾ Juniper</span> <span class="latin-oil">(Juniperus communis)</span></li>
                        <li><span class="oil-name">æœæ¾æœ Juniper Berry</span> <span class="latin-oil">(Juniperus communis)</span></li>
                        <li><span class="oil-name">ç¶­å‰å°¼äºé›ªæ¾ Cedarwood Virginian</span> <span class="latin-oil">(Juniperus virginiana)</span></li>
                        <li><span class="oil-name">è—çµ²æŸ Blue Cypress</span> <span class="latin-oil">(Callitris intratropica)</span></li>
                        <li><span class="oil-name">åœ“æŸ Savin</span> <span class="latin-oil">(Juniperus sabina)</span></li>
                    </ul>`,
                    func: `<ul><li>æŠ—çœŸ0èŒã€æŠ—æ„ŸæŸ“</li><li>æ®ºèŒ</li><li>é»æ¶²æº¶è§£</li><li>å‘¼å¸ç³»çµ±æ¶ˆæ¯’</li><li>æ¶ˆé™¤æ°´è…«ã€æ’æ¯’</li><li>ä¿ƒé€²å¾ªç’°ï¼Œæœ‰åŠ©è…è‡Ÿæ·¨åŒ–</li><li>*ä½†ç”¨é‡éé«˜æ˜¯æœƒåˆºæ¿€è…è‡Ÿ</li><li>å…·æœ‰æ”¶æ–‚ç‰¹æ€§ï¼Œå¯ä»¥æ”¶ç·Šæ¯›å­”</li></ul>`
                },
                {
                    cn: "ç‰»ç‰›å…’è‹—ç§‘",
                    latin: "Geraniaceae",
                    oils: `<ul>
                        <li><span class="oil-name">å¤©ç«ºè‘µ Geranium</span> <span class="latin-oil">(Pelargonium graveolens)</span></li>
                        <li><span class="oil-name">ç«ç‘°å¤©ç«ºè‘µ Rose Geranium</span> <span class="latin-oil">(Pelargonium roseum)</span></li>
                        <li><span class="oil-name">å¤§æ ¹è€é¸›è‰ True Geranium</span> <span class="latin-oil">(Geranium macrorrhizum)</span></li>
                    </ul>`,
                    func: `<ul><li>æŠ—ç´…è…«ç™¼ç‚</li><li>æ®ºèŒ</li><li>æŠ—æ¯’ç´ </li><li>æ»‹è£œç¥ç¶“</li><li>å¹³ä¼</li><li>æ´—æ·¨åŠå†·å»çš®è†š</li></ul>`
                },
                {
                    cn: "å”‡å½¢ç§‘",
                    latin: "Labiatae / Lamiaceae",
                    oils: `<ul>
                        <li><span class="oil-name">ç¾…å‹’ Basil</span> <span class="latin-oil">(Ocimum basilicum)</span></li>
                        <li><span class="oil-name">å¿«æ¨‚é¼ å°¾è‰ Clary Sage</span> <span class="latin-oil">(Salvia sclarea)</span></li>
                        <li><span class="oil-name">é«˜åœ°ç‰›è†è‰ Mountain Hyssop</span> <span class="latin-oil">(Hyssopus decumbens)</span></li>
                        <li><span class="oil-name">è–°è¡£è‰ Lavender</span> <span class="latin-oil">(Lavandula angustifolia)</span></li>
                        <li><span class="oil-name">é†’ç›®è–°è¡£è‰ Lavandin</span> <span class="latin-oil">(Lavandula x intermedia)</span></li>
                        <li><span class="oil-name">é¦™èœ‚è‰ Melissa</span> <span class="latin-oil">(Melissa officinalis)</span></li>
                        <li><span class="oil-name">ç”œæ©™è–„è· Orange Mint</span> <span class="latin-oil">(Mentha x citrata)</span></li>
                        <li><span class="oil-name">èƒ¡æ¤’è–„è· Peppermint</span> <span class="latin-oil">(Mentha x piperita)</span></li>
                        <li><span class="oil-name">è¿·è¿­é¦™ Rosemary</span> <span class="latin-oil">(Salvia rosmarinus)</span></li>
                        <li><span class="oil-name">é¼ å°¾è‰ Sage</span> <span class="latin-oil">(Salvia officinalis)</span></li>
                        <li><span class="oil-name">ç”œé¦¬é¬±è˜­ Sweet Marjoram</span> <span class="latin-oil">(Origanum majorana)</span></li>
                        <li><span class="oil-name">ç™¾é‡Œé¦™ Thyme</span> <span class="latin-oil">(Thymus vulgaris)</span></li>
                        <li><span class="oil-name">å»£è—¿é¦™ Patchouli</span> <span class="latin-oil">(Pogostemon cablin)</span></li>
                    </ul>`,
                    func: `<ul><li>æ®ºèŒã€æ­¢ç—›</li><li>æŠ—ç´…è…«ç™¼ç‚</li><li>æ²»ç—™æ”£</li><li>é€šç¶“</li><li>ä¿ƒé€²æ’æ±—</li><li>å‘¼å¸ç³»çµ±</li><li>é˜²ç—…æ¯’</li><li>å¹³è¡¡</li><li>èŠ³é¦™</li></ul>`
                },
                {
                    cn: "æ¨Ÿç§‘",
                    latin: "Lauraceae",
                    oils: `<ul>
                        <li><span class="oil-name">ç¾…æ–‡èè‘‰ Ravensara</span> <span class="latin-oil">(Ravensara aromatica)</span></li>
                        <li><span class="oil-name">æ¨Ÿè…¦ Camphor</span> <span class="latin-oil">(Cinnamomum camphora)</span></li>
                        <li><span class="oil-name">æœˆæ¡‚ Bay Laurel</span> <span class="latin-oil">(Laurus nobilis)</span></li>
                        <li><span class="oil-name">è‚‰æ¡‚è‘‰ Cinnamon leaf</span> <span class="latin-oil">(Cinnamomum zeylanicum)</span></li>
                        <li><span class="oil-name">éŒ«è˜­è‚‰æ¡‚çš® Cinnamon bark</span> <span class="latin-oil">(Cinnamomum verum)</span></li>
                        <li><span class="oil-name">èŠ±æ¢¨æœ¨ Rosewood</span> <span class="latin-oil">(Aniba rosaeodora)</span></li>
                        <li><span class="oil-name">èŠ³æ¨Ÿ/è‘‰ Ho wood/leaf</span> <span class="latin-oil">(Cinnamomum camphora ct linalool)</span></li>
                        <li><span class="oil-name">å±±é›æ¤’ May Chang</span> <span class="latin-oil">(Litsea cubeba)</span></li>
                        <li><span class="oil-name">æ¡‰æ²¹æ¨Ÿ Ravintsara</span> <span class="latin-oil">(Cinnamomum camphora ct 1.8 cineole)</span></li>
                    </ul>`,
                    func: `<ul><li>æŠ—çœŸèŒ</li><li>æ®ºèŒæ•ˆåŠ›å¼·å‹ï¼Œå¿«é€Ÿè¦‹æ•ˆ</li><li>æŠ—ç—…æ¯’</li><li>æå‡å…ç–«åŠ›</li></ul>`
                },
                {
                    cn: "è‚‰è±†è”»ç§‘",
                    latin: "Myristicaceae",
                    oils: `<ul><li><span class="oil-name">è‚‰è±†è”» Nutmeg</span> <span class="latin-oil">(Myristica fragrans)</span></li></ul>`,
                    func: `<ul><li>æ­¢ç—›</li><li>å¹«åŠ©æ¸›è¼•è‚Œè‚‰ç–¼ç—›åŠç—›æ¥š</li><li>å¼·åŠ›å¤§è…¦åˆºæ¿€åŠ‘</li></ul>`
                },
                {
                    cn: "æ¡ƒé‡‘å­ƒç§‘",
                    latin: "Myrtaceae",
                    oils: `<ul>
                        <li><span class="oil-name">è¥¿å°åº¦æœˆæ¡‚ Bay</span> <span class="latin-oil">(Pimenta racemosa)</span></li>
                        <li><span class="oil-name">ä¸é¦™ Clove</span> <span class="latin-oil">(Eugenia caryophyllata)</span></li>
                        <li><span class="oil-name">å°¤åŠ åˆ© Eucalyptus</span> <span class="latin-oil">(Eucalyptus staigeriana, dives, smithii, globulus, radiata, citriodora)</span></li>
                        <li><span class="oil-name">ç¶ èŠ±ç™½åƒå±¤ Niaouli</span> <span class="latin-oil">(Melaleuca viridiflora)</span></li>
                        <li><span class="oil-name">é¦™æ¡ƒæœ¨ Myrtle</span> <span class="latin-oil">(Myrtus communis)</span></li>
                        <li><span class="oil-name">èŒ¶æ¨¹ Tea tree</span> <span class="latin-oil">(Melaleuca alternifolia)</span></li>
                        <li><span class="oil-name">æ¾ç´…æ¢… Manuka</span> <span class="latin-oil">(Leptospermum scoparium)</span></li>
                    </ul>`,
                    func: `<ul><li>é«˜åº¦æ®ºèŒ</li><li>æŠ—ç—…æ¯’</li><li>æ»‹è£œåŠåˆºæ¿€æ¿€å‹µ</li><li>å‘¼å¸ç³»çµ±</li><li>é»æ¶²æº¶è§£</li><li>æœ‰åŠ©æ”¯æ°£ç®¡æ“´å¼µ</li><li>*ç”±æ–¼å«æœ‰é«˜é‡çš„æ°§åŒ–ç‰©åŠé†›é¡ï¼Œå¯èƒ½æœƒå¼•èµ·çš®è†šåˆºæ¿€</li><li>é©ç”¨æ–¼è‚Œè‚‰åŠé—œç¯€ç—›ç—‡</li></ul>`
                },
                {
                    cn: "æœ¨çŠ€ç§‘",
                    latin: "Oleaceae",
                    oils: `<ul>
                        <li><span class="oil-name">èŒ‰è‰ Jasmine</span> <span class="latin-oil">(Jasminum sambac / officinale)</span></li>
                        <li><span class="oil-name">æ¡‚èŠ± Osmanthus</span> <span class="latin-oil">(Osmanthus fragrans)</span></li>
                    </ul>`,
                    func: `<ul><li>æŠ—æ†‚é¬±</li><li>æŠ—ç´…è…«ç™¼ç‚</li><li>é©…é¢¨</li><li>é®éœ</li></ul>`
                },
                {
                    cn: "æ¾ç§‘",
                    latin: "Pinaceae / Abietaceae",
                    oils: `<ul>
                        <li><span class="oil-name">å¤§è¥¿æ´‹é›ªæ¾ Cedarwood Atlas</span> <span class="latin-oil">(Cedrus atlantica)</span></li>
                        <li><span class="oil-name">æ­æ´²èµ¤æ¾ Pine</span> <span class="latin-oil">(Pinus sylvestris)</span></li>
                        <li><span class="oil-name">è† å†·æ‰ Fir</span> <span class="latin-oil">(Abies balsamea)</span></li>
                        <li><span class="oil-name">é»‘é›²æ‰ Black Spruce</span> <span class="latin-oil">(Picea mariana)</span></li>
                    </ul>`,
                    func: `<ul><li>é«˜åº¦æ®ºèŒ</li><li>é»è†œç‚</li><li>æå‡è…ä¸Šè…ºç´ </li><li>ç·©å’Œå‘¼å¸é“ç™¼ç‚</li><li>è™•ç†é—œç¯€ç‚</li></ul>`
                },
                {
                    cn: "èƒ¡æ¤’ç§‘",
                    latin: "Piperaceae",
                    oils: `<ul><li><span class="oil-name">é»‘èƒ¡æ¤’ Black Pepper</span> <span class="latin-oil">(Piper nigrum)</span></li></ul>`,
                    func: `<ul><li>æŠ—é»è†œç‚</li><li>å¾ªç’°ç³»çµ±åŠæ¶ˆåŒ–ç³»çµ±çš„åˆºæ¿€åŠ‘</li><li>æ­¢ç—›</li><li>åŒ–ç—°</li></ul>`
                },
                {
                    cn: "ç¦¾æœ¬ç§‘",
                    latin: "Poaceae / Gramineae",
                    oils: `<ul>
                        <li><span class="oil-name">é¦™èŒ… Citronella</span> <span class="latin-oil">(Cymbopogon nardus)</span></li>
                        <li><span class="oil-name">æª¸æª¬é¦™èŒ… Lemongrass</span> <span class="latin-oil">(Cymbopogon citratus)</span></li>
                        <li><span class="oil-name">ç«ç‘°è‰ Palmarosa</span> <span class="latin-oil">(Cymbopogon martini)</span></li>
                        <li><span class="oil-name">å²©è˜­è‰ Vetiver</span> <span class="latin-oil">(Vetiveria zizanioides)</span></li>
                    </ul>`,
                    func: `<ul><li>ç—¤ç˜¡</li><li>ç–¼ç—›åŠç—›æ¥š</li><li>ä¿ƒé€²è¡€æ¶²å¾ªç’°</li><li>å¾ªç’°ç³»çµ±çš„åˆºæ¿€åŠ‘</li></ul>`
                },
                {
                    cn: "è–”è–‡ç§‘",
                    latin: "Rosaceae",
                    oils: `<ul>
                        <li><span class="oil-name">å¤§é¦¬å£«é©ç«ç‘° Rose</span> <span class="latin-oil">(Rosa damascena)</span></li>
                        <li><span class="oil-name">ç™½ç«ç‘° Rose Blossom white</span> <span class="latin-oil">(Rosa alba)</span></li>
                        <li><span class="oil-name">é¦™ç²¾ç«ç‘° Rose</span> <span class="latin-oil">(Rosa centifolia)</span></li>
                    </ul>`,
                    func: `<ul><li>æ®ºèŒ</li><li>æŠ—ç—…æ¯’</li><li>æŠ—ç´…è…«ç™¼ç‚</li><li>æŠ—çœŸèŒ</li><li>å¹³è¡¡è·çˆ¾è’™</li><li>å°çš®è†šæœ‰ç›Š</li></ul>`
                },
                {
                    cn: "èŠ¸é¦™ç§‘",
                    latin: "Rutaceae",
                    oils: `<ul>
                        <li><span class="oil-name">ä½›æ‰‹æŸ‘ Bergamot</span> <span class="latin-oil">(Citrus bergamia)</span></li>
                        <li><span class="oil-name">è‘¡è„æŸš Grapefruit</span> <span class="latin-oil">(Citrus paradisi)</span></li>
                        <li><span class="oil-name">æª¸æª¬ Lemon</span> <span class="latin-oil">(Citrus limonum)</span></li>
                        <li><span class="oil-name">èœœæ©˜ Mandarin</span> <span class="latin-oil">(Citrus reticulata)</span></li>
                        <li><span class="oil-name">æ©™èŠ± Neroli</span> <span class="latin-oil">(Citrus aurantium var. amara)</span></li>
                        <li><span class="oil-name">è‹¦æ©™ Orange bitter</span> <span class="latin-oil">(Citrus aurantium var. amara)</span></li>
                        <li><span class="oil-name">ç”œæ©™ Orange sweet</span> <span class="latin-oil">(Citrus sinensis)</span></li>
                        <li><span class="oil-name">è‹¦æ©™è‘‰ Petitgrain</span> <span class="latin-oil">(Citrus aurantium var. amara)</span></li>
                        <li><span class="oil-name">é˜¿ç±³é¦™æ¨¹/è¥¿å°åº¦æª€é¦™ Amyris</span> <span class="latin-oil">(Amyris balsamifera)</span></li>
                    </ul>`,
                    func: `<ul><li>å°æ¶ˆåŒ–ç³»çµ±æœ‰å¹³è¡¡åŠåˆºæ¿€ä½œç”¨</li><li>æ®ºèŒ</li><li>é®éœç¥ç¶“</li><li>ç²¾ç¥å¤§æŒ¯</li><li>æŠ—ç—…æ¯’</li></ul>`
                },
                {
                    cn: "æª€é¦™ç§‘",
                    latin: "Santalaceae",
                    oils: `<ul>
                        <li><span class="oil-name">æª€é¦™/æ±å°åº¦æª€é¦™ Sandalwood</span> <span class="latin-oil">(Santalum album)</span></li>
                        <li><span class="oil-name">æ¾³æ´²æª€é¦™ Sandalwood, Australia</span> <span class="latin-oil">(Santalum spicatum)</span></li>
                    </ul>`,
                    func: `<ul><li>å¹³è¡¡ç¥ç¶“ç³»çµ±</li><li>å‘¼å¸ç³»çµ±åŠæ’æ³„ç³»çµ±</li><li>ä¹¾ç‡¥çš®è†š</li><li>ç”¨æº¶åŠ‘å¼æç…‰</li><li>èª¿ç¯€è³€çˆ¾è’™</li></ul>`
                },
                {
                    cn: "å®‰æ¯é¦™ç§‘",
                    latin: "Styracaceae",
                    oils: `<ul><li><span class="oil-name">å®‰æ¯é¦™ Benzoin</span> <span class="latin-oil">(Styrax benzoin)</span></li></ul>`,
                    func: `<ul><li>æŠ—é»è†œç‚</li><li>åŒ–ç—°</li><li>çš®è†šæ²»ç™‚</li><li>é—œç¯€ç—›æ¥š</li><li>å¾ªç’°ä¸ä½³</li></ul>`
                },
                {
                    cn: "ç¹–å½¢ç§‘",
                    latin: "Umbelliferae / Apiaceae",
                    oils: `<ul>
                        <li><span class="oil-name">æ­ç™½èŠ· Angelica</span> <span class="latin-oil">(Angelica archangelica)</span></li>
                        <li><span class="oil-name">èƒ¡è˜¿è””ç±½ Carrot Seed</span> <span class="latin-oil">(Daucus carota)</span></li>
                        <li><span class="oil-name">ç”œèŒ´é¦™ Fennel Sweet</span> <span class="latin-oil">(Foeniculum vulgare)</span></li>
                        <li><span class="oil-name">æ­èŠ¹ Parsley</span> <span class="latin-oil">(Petroselinum crispum)</span></li>
                        <li><span class="oil-name">èŠ¹èœç±½ Celery Seed</span> <span class="latin-oil">(Apium graveolens)</span></li>
                    </ul>`,
                    func: `<ul><li>å¹«åŠ©æ¶ˆåŒ–</li><li>åˆ†è§£è„‚è‚ª</li><li>åˆºæ¿€è†½æ±æµå‹•</li><li>æš–èº«</li><li>åˆºæ¿€</li><li>é©…é¢¨</li><li>æŠ—ç´°èŒ</li><li>æ®ºèŒ</li><li>æ²»ç—™æ”£</li><li>æŠ—ç´…è…«ç™¼ç‚</li><li>é€šç¶“</li><li>æ»‹è£œåŠ‘</li></ul>`
                },
                {
                    cn: "æ•—é†¬è‰ç§‘",
                    latin: "Valerianaceae",
                    oils: `<ul>
                        <li><span class="oil-name">ç©—ç”˜æ¾ Spikenard</span> <span class="latin-oil">(Nardostachys jatamansi)</span></li>
                        <li><span class="oil-name">çºˆè‰ Valerian</span> <span class="latin-oil">(Valeriana officinalis)</span></li>
                        <li><span class="oil-name">å°åº¦çºˆè‰ Valerian (Tagar)</span> <span class="latin-oil">(Valeriana wallichi)</span></li>
                    </ul>`,
                    func: `<ul><li>å°ç¥ç¶“ç³»çµ±æœ‰å®‰ç¥ä½œç”¨</li><li>æ²»ç™‚ç¥ç¶“ç—›ç—‡</li></ul>`
                },
                {
                    cn: "è–‘ç§‘",
                    latin: "Zingiberaceae",
                    oils: `<ul>
                        <li><span class="oil-name">å°è³è”» Cardamom</span> <span class="latin-oil">(Elettaria cardamomum)</span></li>
                        <li><span class="oil-name">è–‘ Ginger</span> <span class="latin-oil">(Zingiber officinale)</span></li>
                    </ul>`,
                    func: `<ul><li>æ¶ˆåŒ–ç³»çµ±æ»‹è£œåŠ‘</li><li>æŠ—é»è†œç‚</li><li>å°è‚Œè‚‰ç³»çµ±æœ‰å’Œæš–ä½œç”¨</li><li>æ­¢ç—›ï¼Œå°¤å…¶æ˜¯ç‰™ç—›</li></ul>`
                }
            ];

            // --- è®Šæ•¸ ---
            var currentIndex = 0;
            var filteredData = familyData.slice();

            // --- å…ƒç´  ---
            var card = document.getElementById('card');
            var prevBtn = document.getElementById('prevBtn');
            var nextBtn = document.getElementById('nextBtn');
            var searchInput = document.getElementById('searchInput');
            var clearBtn = document.getElementById('clearBtn');
            var counter = document.getElementById('counter');
            var noResults = document.getElementById('noResults');

            // --- æ ¸å¿ƒåŠŸèƒ½ ---
            function renderCard() {
                if (filteredData.length === 0) {
                    card.style.display = 'none';
                    noResults.style.display = 'flex';
                    counter.innerText = "0 / 0";
                    return;
                }

                card.style.display = 'flex';
                noResults.style.display = 'none';
                
                var data = filteredData[currentIndex];
                counter.innerText = (currentIndex + 1) + " / " + filteredData.length;

                // å¡«å……å…§å®¹
                document.getElementById('cardCn').innerText = data.cn;
                document.getElementById('cardEn').innerText = data.latin;
                document.getElementById('cardOils').innerHTML = data.oils;
                document.getElementById('cardFuncs').innerHTML = data.func;
                
                // æ¯æ¬¡åˆ‡æ›æ™‚ï¼Œå°‡å…§å®¹æ²å‹•å›æœ€ä¸Šæ–¹
                document.querySelector('.card-body').scrollTop = 0;
            }

            function handleNext() {
                currentIndex++;
                if (currentIndex >= filteredData.length) currentIndex = 0;
                renderCard();
            }

            function handlePrev() {
                currentIndex--;
                if (currentIndex < 0) currentIndex = filteredData.length - 1;
                renderCard();
            }

            function handleSearch() {
                var query = searchInput.value.toLowerCase().trim();
                if (query.length > 0) {
                    clearBtn.style.display = 'block';
                    filteredData = [];
                    for (var i = 0; i < familyData.length; i++) {
                        var item = familyData[i];
                        if (
                            (item.cn && item.cn.indexOf(query) > -1) ||
                            (item.latin && item.latin.toLowerCase().indexOf(query) > -1) ||
                            (item.oils && item.oils.toLowerCase().indexOf(query) > -1) ||
                            (item.func && item.func.toLowerCase().indexOf(query) > -1)
                        ) {
                            filteredData.push(item);
                        }
                    }
                } else {
                    clearBtn.style.display = 'none';
                    filteredData = familyData.slice();
                }
                currentIndex = 0;
                renderCard();
            }

            function clearSearch() {
                searchInput.value = '';
                handleSearch();
            }

            // --- ç¶å®šäº‹ä»¶ ---
            if (nextBtn) nextBtn.onclick = handleNext;
            if (prevBtn) prevBtn.onclick = handlePrev;
            if (searchInput) searchInput.oninput = handleSearch;
            if (clearBtn) clearBtn.onclick = clearSearch;

            // --- å•Ÿå‹• ---
            renderCard();
        });
    </script>
</body>
</html>
